<CourseFloatingBanner chapter={2}
  classNames="absolute z-10 right-0 top-0"
  notebooks={[
    {label: "Google Colab", value: "https://colab.research.google.com/#fileId=https://huggingface.co/agents-course/notebooks/blob/main/unit2/smolagents/vision_agents.ipynb"},
]} />

# smolagentsì˜ ë¹„ì „ ì—ì´ì „íŠ¸

<Tip warning={true}>
ì´ ì„¹ì…˜ì˜ ì˜ˆì œë“¤ì€ ê°•ë ¥í•œ VLM ëª¨ë¸ì— ëŒ€í•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” GPT-4o APIë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ <a href="./why_use_smolagents">Why use smolagents</a>ì—ì„œëŠ” smolagentsì™€ Hugging Faceê°€ ì§€ì›í•˜ëŠ” ëŒ€ì²´ ì†”ë£¨ì…˜ì— ëŒ€í•´ ë…¼ì˜í•©ë‹ˆë‹¤. ë‹¤ë¥¸ ì˜µì…˜ì„ íƒìƒ‰í•˜ê³  ì‹¶ë‹¤ë©´, í•´ë‹¹ ì„¹ì…˜ì„ í™•ì¸í•´ë³´ì„¸ìš”.
</Tip>

í…ìŠ¤íŠ¸ ì²˜ë¦¬ ì´ìƒì˜ ì‘ì—…ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ì—ì´ì „íŠ¸ì— ì‹œê°ì  ê¸°ëŠ¥ì„ ë¶€ì—¬í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì›¹ ë¸Œë¼ìš°ì§•ì´ë‚˜ ë¬¸ì„œ ì´í•´ì™€ ê°™ì€ ë§ì€ ì‹¤ì œ ë¬¸ì œë“¤ì€ í’ë¶€í•œ ì‹œê°ì  ì½˜í…ì¸ ë¥¼ ë¶„ì„í•´ì•¼ í•©ë‹ˆë‹¤. ë‹¤í–‰íˆë„ `smolagents`ëŠ” ë¹„ì „-ì–¸ì–´ ëª¨ë¸(VLM)ì— ëŒ€í•œ ë‚´ì¥ ì§€ì›ì„ ì œê³µí•˜ì—¬ ì—ì´ì „íŠ¸ê°€ ì´ë¯¸ì§€ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  í•´ì„í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

ì´ ì˜ˆì œì—ì„œëŠ” ì›¨ì¸ ë§¨ì…˜ì˜ ì§‘ì‚¬ì¸ Alfredê°€ íŒŒí‹°ì— ì°¸ì„í•˜ëŠ” ì†ë‹˜ë“¤ì˜ ì‹ ì›ì„ í™•ì¸í•˜ëŠ” ì„ë¬´ë¥¼ ë§¡ì•˜ë‹¤ê³  ìƒìƒí•´ë³´ì„¸ìš”. ìƒìƒí•˜ì‹¤ ìˆ˜ ìˆë“¯ì´, AlfredëŠ” ë„ì°©í•˜ëŠ” ëª¨ë“  ì‚¬ëŒì„ ì•Œì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ë•ê¸° ìœ„í•´ VLMì„ ì‚¬ìš©í•˜ì—¬ ì™¸ëª¨ì— ëŒ€í•œ ì‹œê°ì  ì •ë³´ë¥¼ ê²€ìƒ‰í•¨ìœ¼ë¡œì¨ ì‹ ì›ì„ í™•ì¸í•˜ëŠ” ì—ì´ì „íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ AlfredëŠ” ëˆ„ê°€ ë“¤ì–´ì˜¬ ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ì •ë³´ì— ê¸°ë°˜í•œ ê²°ì •ì„ ë‚´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜ˆì œë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤!

## ì—ì´ì „íŠ¸ ì‹¤í–‰ ì‹œì‘ ì‹œ ì´ë¯¸ì§€ ì œê³µí•˜ê¸°

<Tip>
Google Colabì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” <a href="https://huggingface.co/agents-course/notebooks/blob/main/unit2/smolagents/vision_agents.ipynb" target="_blank">ì´ ë…¸íŠ¸ë¶</a>ì˜ ì½”ë“œë¥¼ ë”°ë¼í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Tip>

ì´ ì ‘ê·¼ ë°©ì‹ì—ì„œëŠ” ì´ë¯¸ì§€ê°€ ì‹œì‘ ì‹œ ì—ì´ì „íŠ¸ì— ì „ë‹¬ë˜ì–´ ì‘ì—… í”„ë¡¬í”„íŠ¸ì™€ í•¨ê»˜ `task_images`ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ì—ì´ì „íŠ¸ëŠ” ì‹¤í–‰ ê³¼ì •ì—ì„œ ì´ëŸ¬í•œ ì´ë¯¸ì§€ë“¤ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

Alfredê°€ íŒŒí‹°ì— ì°¸ì„í•˜ëŠ” ìŠˆí¼íˆì–´ë¡œë“¤ì˜ ì‹ ì›ì„ í™•ì¸í•˜ê³  ì‹¶ì€ ê²½ìš°ë¥¼ ìƒê°í•´ë³´ì„¸ìš”. ê·¸ëŠ” ì´ë¯¸ ì´ì „ íŒŒí‹°ì—ì„œ ì†ë‹˜ë“¤ì˜ ì´ë¦„ê³¼ í•¨ê»˜ ì´ë¯¸ì§€ ë°ì´í„°ì…‹ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ë°©ë¬¸ìì˜ ì´ë¯¸ì§€ê°€ ì£¼ì–´ì§€ë©´, ì—ì´ì „íŠ¸ëŠ” ì´ë¥¼ ê¸°ì¡´ ë°ì´í„°ì…‹ê³¼ ë¹„êµí•˜ì—¬ ì…ì¥ í—ˆìš© ì—¬ë¶€ë¥¼ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ê²½ìš°, í•œ ì†ë‹˜ì´ ë“¤ì–´ì˜¤ë ¤ê³  í•˜ëŠ”ë°, AlfredëŠ” ì´ ë°©ë¬¸ìê°€ ì¡°ì»¤ê°€ ì›ë”ìš°ë¨¼ì„ ì‚¬ì¹­í•˜ê³  ìˆë‹¤ê³  ì˜ì‹¬í•©ë‹ˆë‹¤. AlfredëŠ” ì›ì¹˜ ì•ŠëŠ” ì‚¬ëŒì´ ë“¤ì–´ì˜¤ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ê·¸ë“¤ì˜ ì‹ ì›ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.

ì˜ˆì œë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤. ì´ ê²½ìš° ì˜ˆì œë¥¼ ìµœì†Œí™”í•˜ê¸° ìœ„í•´ ìœ„í‚¤í”¼ë””ì•„ì˜ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ê°€ëŠ¥í•œ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ìƒìƒí•´ë³´ì„¸ìš”!

```python
from PIL import Image
import requests
from io import BytesIO

image_urls = [
    "https://upload.wikimedia.org/wikipedia/commons/e/e8/The_Joker_at_Wax_Museum_Plus.jpg", # ì¡°ì»¤ ì´ë¯¸ì§€
    "https://upload.wikimedia.org/wikipedia/en/9/98/Joker_%28DC_Comics_character%29.jpg" # ì¡°ì»¤ ì´ë¯¸ì§€
]

images = []
for url in image_urls:
    headers = {
        "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36" 
    }
    response = requests.get(url,headers=headers)
    image = Image.open(BytesIO(response.content)).convert("RGB")
    images.append(image)
```

ì´ì œ ì´ë¯¸ì§€ê°€ ìˆìœ¼ë‹ˆ, ì—ì´ì „íŠ¸ëŠ” í•œ ì†ë‹˜ì´ ì‹¤ì œë¡œ ìŠˆí¼íˆì–´ë¡œ(ì›ë”ìš°ë¨¼)ì¸ì§€ ì•…ë‹¹(ì¡°ì»¤)ì¸ì§€ ì•Œë ¤ì¤„ ê²ƒì…ë‹ˆë‹¤.

```python
from smolagents import CodeAgent, OpenAIServerModel

model = OpenAIServerModel(model_id="gpt-4o")

# ì—ì´ì „íŠ¸ ì¸ìŠ¤í„´ìŠ¤í™”
agent = CodeAgent(
    tools=[],
    model=model,
    max_steps=20,
    verbosity_level=2
)

response = agent.run(
    """
    ì´ ì‚¬ì§„ë“¤ì— ìˆëŠ” ë§Œí™” ìºë¦­í„°ê°€ ì…ê³  ìˆëŠ” ì˜ìƒê³¼ ë©”ì´í¬ì—…ì„ ì„¤ëª…í•˜ê³  ê·¸ ì„¤ëª…ì„ ë°˜í™˜í•˜ì„¸ìš”.
    ì†ë‹˜ì´ ì¡°ì»¤ì¸ì§€ ì›ë”ìš°ë¨¼ì¸ì§€ ì•Œë ¤ì£¼ì„¸ìš”.
    """,
    images=images
)
```

ì œê°€ ì‹¤í–‰í•œ ê²½ìš°, ì¶œë ¥ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì•ì„œ ë…¼ì˜í–ˆë“¯ì´ ì—¬ëŸ¬ë¶„ì˜ ê²½ìš°ì—ëŠ” ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```python
    {
        'Costume and Makeup - First Image': (
            'Purple coat and a purple silk-like cravat or tie over a mustard-yellow shirt.',
            'White face paint with exaggerated features, dark eyebrows, blue eye makeup, red lips forming a wide smile.'
        ),
        'Costume and Makeup - Second Image': (
            'Dark suit with a flower on the lapel, holding a playing card.',
            'Pale skin, green hair, very red lips with an exaggerated grin.'
        ),
        'Character Identity': 'This character resembles known depictions of The Joker from comic book media.'
    }
```

ì´ ê²½ìš°, ì¶œë ¥ì€ ê·¸ ì‚¬ëŒì´ ë‹¤ë¥¸ ì‚¬ëŒì„ ì‚¬ì¹­í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ë¯€ë¡œ, ì¡°ì»¤ê°€ íŒŒí‹°ì— ë“¤ì–´ì˜¤ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

## ë™ì  ê²€ìƒ‰ìœ¼ë¡œ ì´ë¯¸ì§€ ì œê³µí•˜ê¸°

<Tip>
<a href="https://huggingface.co/agents-course/notebooks/blob/main/unit2/smolagents/vision_web_browser.py" target="_blank">ì´ Python íŒŒì¼</a>ì˜ ì½”ë“œë¥¼ ë”°ë¼í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Tip>

ì´ì „ ì ‘ê·¼ ë°©ì‹ì€ ê°€ì¹˜ê°€ ìˆê³  ë§ì€ ì ì¬ì  ì‚¬ìš© ì‚¬ë¡€ê°€ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì†ë‹˜ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì—†ëŠ” ìƒí™©ì—ì„œëŠ” ê·¸ë“¤ì„ ì‹ë³„í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•ì„ íƒìƒ‰í•´ì•¼ í•©ë‹ˆë‹¤. ê°€ëŠ¥í•œ í•´ê²°ì±… ì¤‘ í•˜ë‚˜ëŠ” ì›¹ì„ íƒìƒ‰í•˜ì—¬ ì„¸ë¶€ ì •ë³´ë¥¼ ë™ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ê³  ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì´ ì ‘ê·¼ ë°©ì‹ì—ì„œëŠ” ì´ë¯¸ì§€ê°€ ì‹¤í–‰ ì¤‘ì— ì—ì´ì „íŠ¸ì˜ ë©”ëª¨ë¦¬ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤. ìš°ë¦¬ê°€ ì•Œê³  ìˆë“¯ì´, `smolagents`ì˜ ì—ì´ì „íŠ¸ëŠ” ReAct í”„ë ˆì„ì›Œí¬ì˜ ì¶”ìƒí™”ì¸ `MultiStepAgent` í´ë˜ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ëŠ” ë‹¤ì–‘í•œ ë³€ìˆ˜ì™€ ì§€ì‹ì´ ë‹¤ë¥¸ ë‹¨ê³„ì—ì„œ ê¸°ë¡ë˜ëŠ” êµ¬ì¡°í™”ëœ ì£¼ê¸°ë¡œ ì‘ë™í•©ë‹ˆë‹¤:

1. **SystemPromptStep:** ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
2. **TaskStep:** ì‚¬ìš©ì ì¿¼ë¦¬ì™€ ì œê³µëœ ì…ë ¥ì„ ê¸°ë¡í•©ë‹ˆë‹¤.
3. **ActionStep:** ì—ì´ì „íŠ¸ì˜ í–‰ë™ê³¼ ê²°ê³¼ì—ì„œ ë¡œê·¸ë¥¼ ìº¡ì²˜í•©ë‹ˆë‹¤.

ì´ êµ¬ì¡°í™”ëœ ì ‘ê·¼ ë°©ì‹ì€ ì—ì´ì „íŠ¸ê°€ ì‹œê°ì  ì •ë³´ë¥¼ ë™ì ìœ¼ë¡œ í†µí•©í•˜ê³  ì§„í™”í•˜ëŠ” ì‘ì—…ì— ì ì‘ì ìœ¼ë¡œ ì‘ë‹µí•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ìš°ë¦¬ê°€ ì´ë¯¸ ë³¸ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ, ë™ì  ì›Œí¬í”Œë¡œìš° í”„ë¡œì„¸ìŠ¤ì™€ ë‹¤ë¥¸ ë‹¨ê³„ë“¤ì´ ì—ì´ì „íŠ¸ ìƒëª…ì£¼ê¸° ë‚´ì—ì„œ ì–´ë–»ê²Œ í†µí•©ë˜ëŠ”ì§€ ë³´ì—¬ì¤ë‹ˆë‹¤. ë¸Œë¼ìš°ì§•í•  ë•Œ ì—ì´ì „íŠ¸ëŠ” ìŠ¤í¬ë¦°ìƒ·ì„ ì°ê³  ì´ë¥¼ `ActionStep`ì˜ `observation_images`ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![ë™ì  ì´ë¯¸ì§€ ê²€ìƒ‰](https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/smolagents-can-see/diagram_adding_vlms_smolagents.png)

ì´ì œ í•„ìš”ì„±ì„ ì´í•´í–ˆìœ¼ë‹ˆ, ì™„ì „í•œ ì˜ˆì œë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. ì´ ê²½ìš° AlfredëŠ” ì†ë‹˜ í™•ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ì™„ì „íˆ í†µì œí•˜ê³  ì‹¶ì–´í•˜ë¯€ë¡œ, ì„¸ë¶€ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ëŠ” ê²ƒì´ ì‹¤í–‰ ê°€ëŠ¥í•œ í•´ê²°ì±…ì´ ë©ë‹ˆë‹¤. ì´ ì˜ˆì œë¥¼ ì™„ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ì—ì´ì „íŠ¸ë¥¼ ìœ„í•œ ìƒˆë¡œìš´ ë„êµ¬ ì„¸íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë˜í•œ ë¸Œë¼ìš°ì € ìë™í™” ë„êµ¬ì¸ Seleniumê³¼ Heliumì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì—ì´ì „íŠ¸ê°€ ì›¹ì„ íƒìƒ‰í•˜ì—¬ ì ì¬ì  ì†ë‹˜ì— ëŒ€í•œ ì„¸ë¶€ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ê³  í™•ì¸ ì •ë³´ë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•„ìš”í•œ ë„êµ¬ë¥¼ ì„¤ì¹˜í•´ë³´ê² ìŠµë‹ˆë‹¤:

```bash
pip install "smolagents[all]" helium selenium python-dotenv
```

ë¸Œë¼ìš°ì§•ì„ ìœ„í•´ íŠ¹ë³„íˆ ì„¤ê³„ëœ ì—ì´ì „íŠ¸ ë„êµ¬ ì„¸íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `search_item_ctrl_f`, `go_back`, `close_popups` ë“±ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë„êµ¬ë“¤ì€ ì—ì´ì „íŠ¸ê°€ ì›¹ì„ íƒìƒ‰í•˜ëŠ” ì‚¬ëŒì²˜ëŸ¼ í–‰ë™í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

```python
@tool
def search_item_ctrl_f(text: str, nth_result: int = 1) -> str:
    """
    Ctrl + Fë¥¼ í†µí•´ í˜„ì¬ í˜ì´ì§€ì—ì„œ í…ìŠ¤íŠ¸ë¥¼ ê²€ìƒ‰í•˜ê³  në²ˆì§¸ ë°œìƒìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.
    Args:
        text: ê²€ìƒ‰í•  í…ìŠ¤íŠ¸
        nth_result: ì´ë™í•  ë°œìƒ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
    """
    elements = driver.find_elements(By.XPATH, f"//*[contains(text(), '{text}')]")
    if nth_result > len(elements):
        raise Exception(f"Match nÂ°{nth_result} not found (only {len(elements)} matches found)")
    result = f"Found {len(elements)} matches for '{text}'."
    elem = elements[nth_result - 1]
    driver.execute_script("arguments[0].scrollIntoView(true);", elem)
    result += f"Focused on element {nth_result} of {len(elements)}"
    return result


@tool
def go_back() -> None:
    """ì´ì „ í˜ì´ì§€ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤."""
    driver.back()


@tool
def close_popups() -> str:
    """
    í˜ì´ì§€ì—ì„œ ë³´ì´ëŠ” ëª¨ë‹¬ì´ë‚˜ íŒì—…ì„ ë‹«ìŠµë‹ˆë‹¤. íŒì—… ì°½ì„ ë‹«ëŠ” ë° ì‚¬ìš©í•˜ì„¸ìš”! ì¿ í‚¤ ë™ì˜ ë°°ë„ˆì—ëŠ” ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    """
    webdriver.ActionChains(driver).send_keys(Keys.ESCAPE).perform()
```

ìŠ¤í¬ë¦°ìƒ·ì„ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ë„ í•„ìš”í•©ë‹ˆë‹¤. ì´ëŠ” VLM ì—ì´ì „íŠ¸ê°€ ì‘ì—…ì„ ì™„ë£Œí•˜ëŠ” ë° ì‚¬ìš©í•˜ëŠ” í•„ìˆ˜ì ì¸ ë¶€ë¶„ì´ ë  ê²ƒì…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ìŠ¤í¬ë¦°ìƒ·ì„ ìº¡ì²˜í•˜ê³  `step_log.observations_images = [image.copy()]`ì— ì €ì¥í•˜ì—¬ ì—ì´ì „íŠ¸ê°€ íƒìƒ‰í•˜ë©´ì„œ ì´ë¯¸ì§€ë¥¼ ë™ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

```python
def save_screenshot(step_log: ActionStep, agent: CodeAgent) -> None:
    sleep(1.0)  # ìŠ¤í¬ë¦°ìƒ·ì„ ì°ê¸° ì „ì— JavaScript ì• ë‹ˆë©”ì´ì…˜ì´ ì¼ì–´ë‚˜ë„ë¡ í•©ë‹ˆë‹¤
    driver = helium.get_driver()
    current_step = step_log.step_number
    if driver is not None:
        for step_logs in agent.logs:  # íš¨ìœ¨ì ì¸ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì´ì „ ìŠ¤í¬ë¦°ìƒ·ì„ ë¡œê·¸ì—ì„œ ì œê±°í•©ë‹ˆë‹¤
            if isinstance(step_log, ActionStep) and step_log.step_number <= current_step - 2:
                step_logs.observations_images = None
        png_bytes = driver.get_screenshot_as_png()
        image = Image.open(BytesIO(png_bytes))
        print(f"Captured a browser screenshot: {image.size} pixels")
        step_log.observations_images = [image.copy()]  # ì§€ì†ì„±ì„ ìœ„í•´ ë³µì‚¬ë³¸ì„ ë§Œë“­ë‹ˆë‹¤, ì¤‘ìš”í•©ë‹ˆë‹¤!

    # í˜„ì¬ URLë¡œ ê´€ì°°ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤
    url_info = f"Current url: {driver.current_url}"
    step_log.observations = url_info if step_logs.observations is None else step_log.observations + "\n" + url_info
    return
```

ì´ í•¨ìˆ˜ëŠ” ì—ì´ì „íŠ¸ì˜ ì‹¤í–‰ ì¤‘ ê° ë‹¨ê³„ì˜ ëì—ì„œ íŠ¸ë¦¬ê±°ë˜ë¯€ë¡œ `step_callback`ìœ¼ë¡œ ì—ì´ì „íŠ¸ì— ì „ë‹¬ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì—ì´ì „íŠ¸ëŠ” í”„ë¡œì„¸ìŠ¤ ì „ì²´ì—ì„œ ìŠ¤í¬ë¦°ìƒ·ì„ ë™ì ìœ¼ë¡œ ìº¡ì²˜í•˜ê³  ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì œ ì›¹ì„ íƒìƒ‰í•˜ê¸° ìœ„í•œ ë¹„ì „ ì—ì´ì „íŠ¸ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°ë¦¬ê°€ ë§Œë“  ë„êµ¬ë“¤ê³¼ í•¨ê»˜ ì›¹ì„ íƒìƒ‰í•˜ê¸° ìœ„í•œ `DuckDuckGoSearchTool`ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ë„êµ¬ëŠ” ì—ì´ì „íŠ¸ê°€ ì‹œê°ì  ë‹¨ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì†ë‹˜ë“¤ì˜ ì‹ ì›ì„ í™•ì¸í•˜ëŠ” ë° í•„ìš”í•œ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ëŠ” ë° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.

```python
from smolagents import CodeAgent, OpenAIServerModel, DuckDuckGoSearchTool
model = OpenAIServerModel(model_id="gpt-4o")

agent = CodeAgent(
    tools=[DuckDuckGoSearchTool(), go_back, close_popups, search_item_ctrl_f],
    model=model,
    additional_authorized_imports=["helium"],
    step_callbacks=[save_screenshot],
    max_steps=20,
    verbosity_level=2,
)
```

ì´ì œ AlfredëŠ” ì†ë‹˜ë“¤ì˜ ì‹ ì›ì„ í™•ì¸í•˜ê³  íŒŒí‹°ì— ë“¤ì–´ì˜¬ ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•´ ì •ë³´ì— ê¸°ë°˜í•œ ê²°ì •ì„ ë‚´ë¦´ ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤:

```python
agent.run("""
ì €ëŠ” ì›¨ì¸ ë§¨ì…˜ì˜ ì§‘ì‚¬ Alfredì…ë‹ˆë‹¤. íŒŒí‹°ì—ì„œ ì†ë‹˜ë“¤ì˜ ì‹ ì›ì„ í™•ì¸í•˜ëŠ” ì±…ì„ì´ ìˆìŠµë‹ˆë‹¤. í•œ ìŠˆí¼íˆì–´ë¡œê°€ ì›ë”ìš°ë¨¼ì´ë¼ê³  ì£¼ì¥í•˜ë©° ì…êµ¬ì— ë„ì°©í–ˆì§€ë§Œ, ê·¸ë…€ê°€ ë§í•˜ëŠ” ëŒ€ë¡œì¸ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.

ì›ë”ìš°ë¨¼ì˜ ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•˜ê³  ê·¸ ì´ë¯¸ì§€ë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ ìì„¸í•œ ì‹œê°ì  ì„¤ëª…ì„ ìƒì„±í•´ì£¼ì„¸ìš”. ë˜í•œ ìœ„í‚¤í”¼ë””ì•„ë¡œ ì´ë™í•˜ì—¬ ê·¸ë…€ì˜ ì™¸ëª¨ì— ëŒ€í•œ ì£¼ìš” ì„¸ë¶€ ì •ë³´ë¥¼ ìˆ˜ì§‘í•´ì£¼ì„¸ìš”. ì´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê·¸ë…€ì˜ ì´ë²¤íŠ¸ ì°¸ê°€ë¥¼ í—ˆìš©í• ì§€ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
""" + helium_instructions)
```

ì‘ì—…ì˜ ì¼ë¶€ë¡œ `helium_instructions`ë¥¼ í¬í•¨í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ íŠ¹ë³„í•œ í”„ë¡¬í”„íŠ¸ëŠ” ì—ì´ì „íŠ¸ì˜ íƒìƒ‰ì„ ì œì–´í•˜ì—¬ ì›¹ì„ íƒìƒ‰í•˜ëŠ” ë™ì•ˆ ì˜¬ë°”ë¥¸ ë‹¨ê³„ë¥¼ ë”°ë¥´ë„ë¡ í•©ë‹ˆë‹¤.

ì•„ë˜ ë¹„ë””ì˜¤ì—ì„œ ì´ê²ƒì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”:

<iframe width="560" height="315" src="https://www.youtube.com/embed/rObJel7-OLc?si=TnNwQ8rqXqun_pqE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

ìµœì¢… ì¶œë ¥ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```python
Final answer: Wonder Woman is typically depicted wearing a red and gold bustier, blue shorts or skirt with white stars, a golden tiara, silver bracelets, and a golden Lasso of Truth. She is Princess Diana of Themyscira, known as Diana Prince in the world of men.
```

ì´ ëª¨ë“  ê²ƒì„ í†µí•´ íŒŒí‹°ë¥¼ ìœ„í•œ ì‹ ì› í™•ì¸ ì‹œìŠ¤í…œì„ ì„±ê³µì ìœ¼ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤! AlfredëŠ” ì´ì œ ì˜¬ë°”ë¥¸ ì†ë‹˜ë§Œ ë¬¸ì„ í†µê³¼í•˜ë„ë¡ í•˜ëŠ” ë° í•„ìš”í•œ ë„êµ¬ë¥¼ ê°–ì¶”ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì›¨ì¸ ë§¨ì…˜ì—ì„œ ì¢‹ì€ ì‹œê°„ì„ ë³´ë‚¼ ì¤€ë¹„ê°€ ëª¨ë‘ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!


## ì¶”ê°€ ì½ê¸°

- [We just gave sight to smolagents](https://huggingface.co/blog/smolagents-can-see) - ë¹„ì „ ì—ì´ì „íŠ¸ ê¸°ëŠ¥ì„ ì„¤ëª…í•˜ëŠ” ë¸”ë¡œê·¸.
- [Web Browser Automation with Agents ğŸ¤–ğŸŒ](https://huggingface.co/docs/smolagents/examples/web_browser) - ë¹„ì „ ì—ì´ì „íŠ¸ë¥¼ ì‚¬ìš©í•œ ì›¹ ë¸Œë¼ìš°ì§• ì˜ˆì œ.
- [Web Browser Vision Agent Example](https://github.com/huggingface/smolagents/blob/main/src/smolagents/vision_web_browser.py) - ë¹„ì „ ì—ì´ì „íŠ¸ë¥¼ ì‚¬ìš©í•œ ì›¹ ë¸Œë¼ìš°ì§• ì˜ˆì œ.
</rewritten_file> 